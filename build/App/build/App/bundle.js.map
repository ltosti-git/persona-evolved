{"version":3,"sources":["app.js","azienda/azienda.module.js","azienda/azienda.route.js","azienda/azienda.controller.js","azienda/azienda.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../../bundle.js","sourcesContent":["(function(){\n  'use strict';\nconsole.log('App');\n  var App = angular.module('App',[\n    'ngRoute',\n    'ngResource',\n\n    'App.azienda',\n\n  ]);\n\n\n\n })();\n","(function(){\n  'use strict';\n\n  angular.module('App.azienda', []);\n\n})();\n","(function(){\n  'use strict';\n  angular.module('App.azienda')\n    .config(config);\n\n    function config($routeProvider){ console.log('Route');\n      $routeProvider\n        .when('/azienda', {\n          templateUrl:'/App/view/azienda/template/azienda.template.html',\n          controller:'aziendaController',\n          controllerAs: 'vm'\n        });\n    }\n})();\n","(function(){\n  'use strict';\n\n  angular.module('App.azienda')\n    .controller('AziendaController', AziendaController);\n\n    AziendaController.$inject = ['AziendaService', '$location'];\n\n    function AziendaController(AziendaService, $location){ console.log('Controller');\n      var vm = this;\n      vm.newAzienda = {};\n\n      vm.getMyAzienda = function(){\n        return AziendaService.getAzienda()\n        // then catch promise\n        .then(function(data){\n          vm.azienda = data;\n          return\n        }).catch(function(err){\n          return err;\n        });\n      };\n\n      vm.detailsAzienda = function(azienda) {\n        //vm.newAzienda = angular.copy(azienda);\n        vm.newAzienda.id = azienda._id;\n        // vm.newAzienda.name = azienda.name;\n        // vm.newAzienda.avatar = azienda.avatar;\n        // vm.newAzienda.health = azienda.health;\n        // vm.newAzienda.mana = azienda.mana;\n        // vm.newAzienda.hasPowers = azienda.hasPowers;\n        // vm.newAzienda.weapons = azienda.weapons;\n        $location.path('/azienda/details/' + vm.newAzienda.id);\n      }\n\n      vm.add = function() {\n        $location.path('/azienda/details');\n      }\n\n      vm.saveMyAzienda = function() { console.log(vm.newAzienda.id);\n\n        if(!vm.newAzienda.id) { console.log('save');\n        return AziendaService.saveAzienda(vm.newAzienda)\n          .then(function(){\n            vm.getMyAzienda();\n            return vm.newAzienda = {};\n          }).catch(function(err){ console.log(err);\n            return err;\n          });\n        } else { console.log('edit');\n          return AziendaService.editAzienda(vm.newAzienda)\n          .then(function() {\n            vm.getMyAzienda();\n            return vm.newAzienda = {};\n          }).catch (function(err){\n            return err;\n          });\n\n        }\n      };\n\n      vm.deleteMyAzienda = function(id) { //console.log(id);\n        return AziendaService.deleteAzienda(id)\n          .then(function(){\n            vm.getMyAzienda();\n            return vm.newAzienda = {};\n          }).catch(function(err){\n            return err;\n          })\n      }\n    }\n})();\n","(function(){\n  'use strict';\n\n  angular.module('App.azienda')\n    .factory('AziendaService',AziendaService);\n\n    AziendaService.$inject = ['$resource'];\n\n    function AziendaService($resource){ console.log('Service');\n\n      var Azienda = $resource('/azienda/', {azienda:'@azienda'}, {'getAll':{method: 'GET', isArray: true}, 'save': {method: 'POST'}});\n      var delAzienda = $resource('/azienda/:id', {id:'@id'}, {'delete': {method: 'DELETE'}});\n      var edAzienda = $resource('/azienda/:id', {id:'@id'}, {'edit': {method: 'PUT'}, 'get': {method: 'GET'}});\n\n      return{\n        getAzienda: getAzienda,\n        saveAzienda: saveAzienda,\n        deleteAzienda: deleteAzienda,\n        editAzienda: editAzienda,\n        getMyAziendaDet: getMyAziendaDet\n      };\n\n      function getAzienda(callback){\n        callback = callback || angular.noop;\n        return Azienda.getAll(function(azienda){\n          return callback(azienda);\n        }, function(err){\n          return callback(err);\n        }).$promise;\n      }\n\n      function saveAzienda(newAzienda, callback){   //rifarla con la promise\n        callback = callback || angular.noop;\n        //console.log(newAzienda);\n        return Azienda.save(newAzienda, function(data){\n          return callback(data);\n        }, function(err) {\n          return callback(err);\n        }).$promise;\n\n      }\n\n      function deleteAzienda(id, callback) { //console.log(id);\n        callback = callback || angular.noop;\n        return delAzienda.delete({'id':id}, function(){\n          return callback('del ok');\n        }, function(err){\n          return callback(err);\n        }).$promise;\n\n      }\n\n      function editAzienda(id, hero, callback) { //console.log(hero.weapons);\n        callback = callback || angular.noop;\n        return edAzienda.edit({'id':id}, hero, function(data){\n          return callback(data);\n        }, function(err) {\n          return callback(err);\n        }).$promise;\n      }\n\n      function getMyAziendaDet(id, callback) { //console.log(id);\n        callback = callback || angular.noop;\n        return edWeapons.get({'id': id}, function(data){\n          return callback(data);\n        }, function(err) {\n          return callback(err);\n        }).$promise;\n      }\n\n\n    }\n\n})();\n"]}